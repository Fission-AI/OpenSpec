# 修复更新命令工具选择

## 问题

`openspec update` 命令目前强制创建/更新 CLAUDE.md，而不考虑初始化期间选择了哪个 AI 工具。这违反了工具无关的设计原则，并为选择了不同 AI 助手的用户造成困惑。

此外，不同的团队成员可能使用不同的 AI 工具，所以我们不能依赖共享的配置文件。

## 解决方案

修改更新命令以：
1. 仅更新已存在的 AI 工具配置文件
2. 从不创建新的 AI 工具配置文件
3. 始终更新核心 OpenSpec 文件（README.md 等）

## 实现

- 从更新命令中移除硬编码的 CLAUDE.md 更新
- 在更新任何 AI 工具配置之前实现文件存在性检查
- 使用其适当的标记更新每个现有的 AI 工具配置文件
- 无需配置文件（避免团队冲突）

## 成功标准

- 更新命令仅修改现有的 AI 工具配置文件
- 更新期间从不创建新的 AI 工具文件
- 团队成员可以使用不同的 AI 工具而无冲突
- 现有项目继续工作（向后兼容性）

## 为什么

用户需要来自 `openspec update` 的可预测、工具无关的行为。为项目不使用的 AI 工具文件创建或强制更新会造成困惑和合并冲突。限制更新到现有文件并始终更新核心 OpenSpec 文件，为混合工具团队保持工作流一致。

## 变更内容

- **cli-update：** 修改更新行为以仅更新现有的 AI 工具配置文件，从不创建新的；始终更新核心 OpenSpec 文件并显示 ASCII 安全的成功消息。

## 新增要求

从提案中移除以遵循约定。请参见 `specs/cli-update/spec.md` 了解增量要求内容。