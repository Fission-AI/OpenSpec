# CLI 初始化规范的增量

## 新增要求
### 要求：非交互模式
命令应通过命令行选项支持非交互操作，以用于自动化和 CI/CD 用例。

#### 场景：非交互式选择所有工具
- **当** 使用 `--tools all` 运行时
- **则** 自动选择每个可用的 AI 工具而不提示
- **并且** 使用选定的工具继续初始化

#### 场景：非交互式选择特定工具
- **当** 使用 `--tools claude,cursor` 运行时
- **则** 解析逗号分隔的工具 ID 并针对可用工具进行验证
- **并且** 仅使用指定的有效工具继续初始化

#### 场景：非交互式跳过工具配置
- **当** 使用 `--tools none` 运行时
- **则** 完全跳过 AI 工具配置
- **并且** 仅创建 OpenSpec 目录结构和模板文件

#### 场景：无效的工具规范
- **当** 使用包含 AI 工具注册表中不存在的任何 ID 的 `--tools` 运行时
- **则** 以代码 1 退出并显示可用值（`all`、`none` 或支持的工具 ID）

#### 场景：帮助文本列出可用工具 ID
- **当** 显示 `openspec init` 的 CLI 帮助时
- **则** 显示 `--tools` 选项描述，其中包含从 AI 工具注册表派生的有效值

## 修改后的要求
### 要求：交互模式
命令应提供一个用于 AI 工具选择的交互菜单，并附带清晰的导航说明。

#### 场景：显示交互菜单
- **当** 在没有非交互选项的全新或扩展模式下运行时
- **则** 显示一个循环选择菜单，让用户可以使用回车键切换工具，并通过"完成"选项结束
- **并且** 用"(已配置)"标记已配置的工具，同时将禁用的选项标记为"即将推出"
- **并且** 在扩展模式下将提示副本更改为"您想要添加或刷新哪些 AI 工具？"
- **并且** 显示内联说明，明确回车键切换工具，选择"完成"确认列表