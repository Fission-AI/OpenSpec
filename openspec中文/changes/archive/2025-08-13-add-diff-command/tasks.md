# 实现任务

## 1. 核心实现
- [x] 1.1 创建 `src/core/diff.ts` 包含差异逻辑
- [x] 1.2 实现变更目录扫描
- [x] 1.3 使用统一差异格式实现文件比较
- [x] 1.4 为终端输出添加颜色支持

## 2. CLI 集成
- [x] 2.1 在 `src/cli/index.ts` 中添加差异命令
- [x] 2.2 实现未提供参数时的交互式变更选择
- [x] 2.3 添加缺失变更的错误处理

## 3. 增强功能
- [x] 3.1 使用 jest-diff 替换以获得专业的差异输出
- [x] 3.2 改进文件头包含状态和统计信息
- [x] 3.3 添加包含文件计数和行变更的摘要视图

## 4. 测试
- [ ] 4.1 测试修改文件的差异生成
- [ ] 4.2 测试新文件的处理
- [ ] 4.3 测试删除文件的处理
- [ ] 4.4 测试交互模式