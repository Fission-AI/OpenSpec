# 实现任务

## 1. 核心实现
- [x] 1.1 创建 `src/core/list.ts` 包含列表逻辑
  - [x] 1.1.1 实现目录扫描（排除 archive/）
  - [x] 1.1.2 实现从 tasks.md 文件中任务计数
  - [x] 1.1.3 格式化输出为简单表格
- [x] 1.2 在 `src/cli/index.ts` 中添加列表命令到 CLI
  - [x] 1.2.1 注册 `openspec list` 命令
  - [x] 1.2.2 连接到 list.ts 实现

## 2. 错误处理
- [x] 2.1 处理缺失的 openspec/changes/ 目录
- [x] 2.2 处理没有 tasks.md 文件的变更
- [x] 2.3 处理空的变更目录

## 3. 测试
- [x] 3.1 为列表功能添加测试
  - [x] 3.1.1 测试多个变更
  - [x] 3.1.2 测试已完成的变更
  - [x] 3.1.3 测试无变更
  - [x] 3.1.4 测试错误条件

## 4. 文档
- [x] 4.1 更新 CLI 帮助文本包含列表命令
- [x] 4.2 如适用，将列表命令添加到 README