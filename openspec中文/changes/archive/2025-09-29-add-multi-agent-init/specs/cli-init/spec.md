## 修改后的要求
### 要求：安全检查
命令应执行安全检查以防止覆盖现有结构并确保适当权限。

#### 场景：检测现有初始化
- **当** `openspec/` 目录已存在时
- **则** 通知用户 OpenSpec 已初始化，跳过重新创建基础结构，并进入扩展模式
- **并且** 继续到 AI 工具选择步骤，以便可以配置额外工具
- **并且** 仅当用户拒绝添加任何 AI 工具时才显示现有初始化错误消息

### 要求：交互模式
命令应提供一个用于 AI 工具选择的交互菜单，并附带清晰的导航说明。

#### 场景：显示交互菜单
- **当** 在全新或扩展模式下运行时
- **则** 显示一个循环选择菜单，让用户可以使用回车键切换工具，并通过"完成"选项结束
- **并且** 用"(已配置)"标记已配置的工具，同时将禁用的选项标记为"即将推出"
- **并且** 在扩展模式下将提示副本更改为"您想要添加或刷新哪些 AI 工具？"
- **并且** 显示内联说明，明确回车键切换工具，选择"完成"确认列表

## 新增要求
### 要求：额外 AI 工具初始化
`openspec init` 应允许用户在初始设置后为新的 AI 编码助手添加配置文件。

#### 场景：初始设置后配置额外工具
- **假设** `openspec/` 目录已存在且至少存在一个 AI 工具文件
- **当** 用户运行 `openspec init` 并选择不同的支持 AI 工具时
- **则** 以与首次初始化相同的方式生成该工具的配置文件和 OpenSpec 标记
- **并且** 保持现有工具配置文件不变，除了需要刷新的受管部分
- **并且** 以代码 0 退出并显示突出显示新添加工具文件的成功摘要

### 要求：成功输出增强
`openspec init` 应在初始化或扩展模式完成时总结工具操作。

#### 场景：显示工具摘要
- **当** 命令成功完成时
- **则** 显示分类的工具摘要，包括创建、刷新或跳过的工具（包括已配置的跳过）
- **并且** 使用所选工具的名称个性化"下一步"标题，当没有剩余工具时默认为通用标签

### 要求：退出代码调整
`openspec init` 应将在没有选择工具的扩展模式下视为受防护的错误。

#### 场景：防止空扩展运行
- **当** OpenSpec 已初始化且用户未选择额外工具时
- **则** 在显示现有初始化指导消息后以代码 1 退出