# docs-agent-instructions 规范

## 目的
待定 - 由归档变更 improve-agent-instruction-usability 创建。归档后更新目的。

## 要求
### 要求：快速参考放置

AI 指令应以快速参考部分开始，在任何叙述性指导之前展示必需的文件结构、模板和格式化规则。

#### 场景：在顶部加载模板

- **当** `openspec/AGENTS.md` 被重新生成或更新时
- **则** 标题后的第一个实质性部分应提供可复制的标题，用于 `proposal.md`、`tasks.md`、规范增量和场景格式化
- **并** 将每个模板链接到相应的工作流程步骤，以便深入阅读

### 要求：嵌入式模板和示例

`openspec/AGENTS.md` 应包含完整的复制/粘贴模板和内联示例，精确在代理进行相应编辑的位置。

#### 场景：提供文件模板

- **当** 作者到达起草提案和增量的工作流程指导时
- **则** 提供匹配必需结构的围栏 Markdown 模板（`## Why`、`## ADDED Requirements`、`#### Scenario:` 等）
- **并** 伴随每个模板提供一个简短的示例，展示正确的标题使用和场景项目符号

### 要求：预验证清单

`openspec/AGENTS.md` 应提供一个简洁的预验证清单，突出显示在运行 `openspec validate` 之前的常见格式化错误。

#### 场景：突出常见验证失败

- **当** 读者到达验证指导时
- **则** 呈现一个清单，提醒他们验证需求标题、场景格式化和增量部分
- **并** 包括至少关于 `#### Scenario:` 使用和场景之前描述性需求文本的提醒

### 要求：工作流程指导的渐进式披露

文档应将初学者基础与高级主题分开，以便新人可以专注于核心步骤，而不会失去对高级工作流程的访问。

#### 场景：组织初学者和高级部分

- **当** 重新组织 `openspec/AGENTS.md` 时
- **则** 保持介绍性部分仅限于最小步骤（脚手架、起草、验证、请求审查）
- **并** 将高级主题（多功能变更、归档详情、工具深入探讨）移动到明确标记的后续部分
- **并** 提供从快速参考到这些高级部分的锚链接